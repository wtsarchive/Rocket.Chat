<template name="membersList">
	<div class="content">
		{{> videoCall}}
		{{#if isGroupChat}}
			<div class="list-view{{#if $.Session.get 'showUserInfo'}} animated-hidden{{/if}}">
				{{#with roomUsers}}
					<div class="status">
						<h2>{{_ "Members_List"}}</h2>
						<p>
							{{{_ "Showing_online_users" total_showing=totalShowing total=total}}}
							<a class="see-all">{{seeAll}}</a>
						</p>
						{{> videoButtons}}
						{{#if canAddUser}}
							<div class="control">
								<div class="search-form">
									<div class="input-line search">
										{{> inputAutocomplete settings=autocompleteSettingsAddUser id="user-add-search" class="search" placeholder=tAddUsers}}
										<i class="icon-plus"></i>
									</div>
								</div>
							</div>
						{{/if}}
					</div>
					<ul class='list clearfix lines'>
						{{#each users}}
							<li class='user-image user-card-room status-{{status}}'>
								<a data-username="{{username}}" tabindex="0" title="{{username}}">
									{{> avatar username=username}}
									<p>{{username}} {{utcOffset}}</p>
								</a>
							</li>
						{{/each}}
					</ul>
					{{#if hasMore}}
						<button class="button show-more-users">{{_ "Show_more"}}</button>
					{{/if}}
				{{/with}}
			</div>
		{{/if}}
		<div class="user-view animated{{#unless showUserInfo}} animated-hidden{{/unless}}">
			{{> userInfo user=flexUserInfo showAll=isGroupChat video=isDirectChat}}
		</div>
	</div>
</template>
